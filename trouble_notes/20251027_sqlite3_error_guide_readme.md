# SQLite3 gem ã‚¨ãƒ©ãƒ¼åŸå› ã¨å¯¾ç­–ï¼ˆRailsã‚¢ãƒ—ãƒªå…±é€šï¼‰

## ğŸ”§ ç™ºç”ŸçŠ¶æ³

Railsã‚¢ãƒ—ãƒªé–‹ç™ºä¸­ã«ã€`rails db:migrate` ã¾ãŸã¯ `rails s`
å®Ÿè¡Œæ™‚ã«ã€SQLite3é–¢é€£ã®ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã€‚\
ä¾‹ï¼š

    LoadError: Error loading the 'sqlite3' Active Record adapter.
    Could not load 'sqlite3' gem.

ã¾ãŸã¯

    cannot load such file -- sqlite3

------------------------------------------------------------------------

## ğŸ’¡ ä¸»ãªåŸå› 

  ----------------------------------------------------------------------------------------------------------------------
  åˆ†é¡               åŸå› å†…å®¹                             è©³ç´°
  ------------------ ------------------------------------ --------------------------------------------------------------
  gemä¾å­˜é–¢ä¿‚        Rubyã‚„Railsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨`sqlite3`   æ–°ã—ã„Railsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¤ã„sqlite3ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„
                     gemã®äº’æ›æ€§ãŒå´©ã‚Œã‚‹                  

  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç’°å¢ƒ   Windowsç’°å¢ƒç‰¹æœ‰ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼        `sqlite3.h` ãŒå­˜åœ¨ã—ãªã„ã€DLLä¸è¶³ãªã©

  Gemfileä¸æ•´åˆ      `bundle install`                     Gemfile.lockãŒå£Šã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
                     æ™‚ã«ç•°ãªã‚‹gemãŒå†è§£æ±º                

  DBãƒ•ã‚¡ã‚¤ãƒ«         `db/development.sqlite3`             migrationå¤±æ•—æ™‚ã«ç™ºç”Ÿã™ã‚‹
                     ã®ãƒ­ãƒƒã‚¯ã¾ãŸã¯ç ´æ                   
  ----------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------

## ğŸ§° å¯¾å¿œç­–ï¼ˆæ‰‹é †é †ã«å®Ÿæ–½ï¼‰

### â‘  Gemfileã‚’æ˜ç¤ºçš„ã«ä¿®æ­£

``` ruby
# Gemfile
gem "sqlite3", "~> 1.6"
```

> â€»Rails 7ç³»ã‚„8ç³»ã§ã¯ 1.6.x ãŒå®‰å®šã€‚

------------------------------------------------------------------------

### â‘¡ ä¸€åº¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

``` bash
bundle install --path vendor/bundle
bundle update sqlite3
```

ã‚‚ã—ãã‚Œã§ã‚‚å‹•ã‹ãªã„å ´åˆï¼š

``` bash
gem uninstall sqlite3
gem install sqlite3
```

------------------------------------------------------------------------

### â‘¢ DBãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚»ãƒƒãƒˆ

DBãŒå£Šã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ãŸã‚ã€ä»¥ä¸‹ã§å†ä½œæˆï¼š

``` bash
rails db:drop
rails db:create
rails db:migrate
```

------------------------------------------------------------------------

### â‘£ Rubyã¨gemç’°å¢ƒã®å†æ§‹ç¯‰ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰

ãã‚Œã§ã‚‚è§£æ¶ˆã—ãªã„å ´åˆã€Rubyç’°å¢ƒãã®ã‚‚ã®ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

``` bash
gem uninstall bundler
gem uninstall sqlite3
ridk install     # â€»Windowsã®å ´åˆ
gem install bundler
bundle install
```

------------------------------------------------------------------------

## âœ… å†ç™ºé˜²æ­¢ãƒ¡ãƒ¢

-   `bundle install` å‰ã« Gemfile.lock
    ã‚’å‰Šé™¤ã—ã¦ãŠãã¨ä¾å­˜ã®å†è§£æ±ºãŒã‚¹ãƒ ãƒ¼ã‚ºã€‚\
-   Rubyã‚„Railsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´æ™‚ã¯å¿…ãš `sqlite3`
    ã®å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã€‚\
-   Windowsç’°å¢ƒã§ã¯ `ridk install` ã§MSYS2ã‚’æ›´æ–°ã—ã¦ãŠãã“ã¨ã€‚\
-   ç’°å¢ƒã‚’å®‰å®šã•ã›ãŸã„å ´åˆã¯ã€`MySQL` ã‚„ `PostgreSQL`
    ã¸ã®åˆ‡ã‚Šæ›¿ãˆã‚‚æ¤œè¨ã€‚

------------------------------------------------------------------------

## ğŸ“˜ ã¾ã¨ã‚

  å•é¡Œ                    å¯¾ç­–
  ----------------------- --------------------------------------
  gemã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´   Gemfileã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å›ºå®šã™ã‚‹
  SQLiteãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼      `ridk install` ã‚’å®Ÿè¡Œ
  DBç ´æ                  `rails db:drop db:create db:migrate`
  ç’°å¢ƒä¾å­˜ã‚¨ãƒ©ãƒ¼          Rubyã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

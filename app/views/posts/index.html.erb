<div class="container mt-5">
  <h2 class="text-center mb-4">投稿一覧</h2>
  <pre><%= @posts.inspect %></pre>    
  <div class="row">
    <% @posts.each do |post| %>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm p-3 h-100">
          <h4><%= post.sauna.name %></h4>

          <!-- 投稿者情報 -->
          <p class="text-muted mb-1">
            投稿者：<%= post.user.name %>
            <% if post.user == current_user %>
              （あなた / <%= current_user.email %>）
            <% end %>
          </p>

          <p><%= post[:post] %></p>   

          <ul class="list-unstyled">
            <li>混雑度：<%= I18n.t("enums.post.congestion_level.#{post.congestion_level}") %></li>
            <li>曜日：<%= I18n.t("enums.post.day_of_week.#{post.day_of_week}") %></li>
            <li>時間帯：<%= I18n.t("enums.post.time_zone.#{post.time_zone}") %></li>
          </ul>

          <% if post.image.attached? %>
            <div class="mt-2">
              <%= image_tag post.image, class: "img-fluid rounded" %>
            </div>
          <% end %>

          <div class="text-end mt-2">
            <%= link_to "詳細", sauna_post_path(post.sauna, post) %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="d-flex justify-content-center mt-4">
    <%= paginate @posts %>
  </div>
</div>

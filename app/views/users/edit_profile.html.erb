<div class="profile-sauna-container mt-5">
  <div class="profile-sauna-card p-4 text-center">

    <h1 class="mb-4">プロフィール編集</h1>

    <%= form_with model: @user, url: profile_user_path(@user), local: true, method: :patch, multipart: true do |form| %>

      <!-- アイコン表示 -->
      <div class="mb-4">
        <% if @user.profile_image.attached? %>
          <%= image_tag @user.profile_image,
                        class: "rounded-circle shadow-sm",
                        style: "width: 130px; height: 130px; object-fit: cover;" %>
        <% else %>
          <%= image_tag "default-avatar.png",
                        class: "rounded-circle shadow-sm",
                        style: "width: 130px; height: 130px; object-fit: cover;" %>
          <p class="text-muted mb-0 mt-2">※アイコン未登録</p>
        <% end %>
      </div>

      <!-- アイコンアップロード -->
      <div class="mb-3 text-start">
        <%= form.label :profile_image, "アイコン画像" %>
        <%= form.file_field :profile_image, class: "form-control" %>
      </div>

      <!-- 名前 -->
      <div class="mb-3 text-start">
        <%= form.label :name, "名前" %>
        <%= form.text_field :name, class: "form-control" %>
      </div>

      <!-- 自己紹介 -->
      <div class="mb-3 text-start">
        <%= form.label :profile, "自己紹介" %>
        <%= form.text_area :profile, rows: 4, class: "form-control" %>
      </div>

      <!-- ボタン -->
      <%= form.submit "更新する", class: "btn btn-success w-100 mt-3" %>
    <% end %>

    <!-- プロフィールへ戻る -->
    <div class="text-center mt-3">
      <%= link_to "プロフィールに戻る", profile_user_path(current_user), class: "btn btn-outline-secondary" %>
    </div>

  </div>
</div>
